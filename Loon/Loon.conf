# 20200909_xxxxx
# YouTubeå»å¹¿å‘Šè¯·åˆ é™¤hostname åçš„.bak


[General]
ipv6 = false
skip-proxy = 10.0.0.0/8,127.0.0.0/8,169.254.0.0/16,192.0.2.0/24,192.168.0.0/16,198.51.100.0/24,224.0.0.0/4,*.local,localhostlocal
bypass-tun = 10.0.0.0/8,127.0.0.0/8,169.254.0.0/16,192.0.2.0/24,192.168.0.0/16,198.51.100.0/24,224.0.0.0/4
# [DNS] => DNS æœåŠ¡å™¨
dns-server = system,1.2.4.8,119.29.29.29,223.5.5.5
allow-wifi-access = false
wifi-access-http-port = 7222
wifi-access-socket5-port = 7221
proxy-test-url = http://www.qualcomm.cn/generate_204
test-timeout = 3
allow-udp-proxy = true
host = 127.0.0.1

[Remote Proxy]
# è®¢é˜…èŠ‚ç‚¹
# åˆ«å = è®¢é˜…URL
âœˆï¸æœºåœº1 = https://example/server-complete.txt
âœˆï¸æœºåœº2 = https://example2/server-complete.txt
âœˆï¸æœºåœº3 = https://example3/server-complete.txt

[Remote Filter]
# ç­›é€‰è®¢é˜…èŠ‚ç‚¹ï¼Œç­›é€‰åçš„ç»“æœå¯åŠ å…¥åˆ°ç­–ç•¥ç»„ä¸­ï¼Œç›®å‰æ”¯æŒä¸‰ç§ç­›é€‰æ–¹å¼
# NodeSelect: ä½¿ç”¨åœ¨UIä¸Šé€‰æ‹©çš„èŠ‚ç‚¹ã€‚
# NameKeyword: æ ¹æ®æä¾›çš„å…³é”®è¯å¯¹è®¢é˜…ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„åç§°è¿›è¡Œç­›é€‰ï¼Œä½¿ç”¨ç­›é€‰åçš„èŠ‚ç‚¹ã€‚
# NameRegex: æ ¹æ®æä¾›çš„æ­£åˆ™è¡¨è¾¾å¼å¯¹è®¢é˜…ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„åç§°è¿›è¡Œç­›é€‰ï¼Œä½¿ç”¨ç­›é€‰åçš„èŠ‚ç‚¹ã€‚
ğŸŒ¸èŠ±å¼€èŠ±è½ = NodeSelect,âœˆï¸æœºåœº1,âœˆï¸æœºåœº2,âœˆï¸æœºåœº3, FilterKey = "(?!.*(é¦™æ¸¯|å°æ¹¾)).*(V3)"
æ–°åŠ å¡ = NameRegex,âœˆï¸æœºåœº1,âœˆï¸æœºåœº2,âœˆï¸æœºåœº3, FilterKey = "(?!.*(é¦™æ¸¯|å°æ¹¾)).*(V3)"
æ—¥æœ¬ = NameRegex,âœˆï¸æœºåœº1,âœˆï¸æœºåœº2,âœˆï¸æœºåœº3, FilterKey = "æ—¥æœ¬|JP"
éŸ©å›½ = NodeSelect,âœˆï¸æœºåœº1,âœˆï¸æœºåœº2,âœˆï¸æœºåœº3, FilterKey = "é²"
ç¾å›½ = NameRegex,âœˆï¸æœºåœº1,âœˆï¸æœºåœº2,âœˆï¸æœºåœº3, FilterKey = "ç¾å›½|US"
Other = NodeSelect,âœˆï¸æœºåœº1,âœˆï¸æœºåœº2,âœˆï¸æœºåœº3
[Proxy]
# æœ¬åœ°èŠ‚ç‚¹

# å†…ç½® DIRECTã€REJECT ç­–ç•¥

# èŠ‚ç‚¹åç§° = åè®®ï¼ŒæœåŠ¡å™¨åœ°å€ï¼ŒæœåŠ¡å™¨ç«¯å£ï¼ŒåŠ å¯†åè®®ï¼Œå¯†ç ï¼Œ
1 = Shadowsocks,1.2.3.4,443,aes-128-gcm,"â€passwordâ€œ",fast-open=false
2 = Shadowsocks,1.2.3.4,443,aes-128-gcm,"â€passwordâ€œ",fast-open=false
3 = ShadowsocksR,1.2.3.4,443,aes-256-cfb,"â€passwordâ€œ",auth_aes128_md5,{},tls1.2_ticket_auth,{}
4 = ShadowsocksR,1.2.3.4,10076,aes-128-cfb,"â€passwordâ€œ",auth_aes128_md5,{},tls1.2_ticket_auth,{}
# vmess
# èŠ‚ç‚¹åç§° = åè®®ï¼ŒæœåŠ¡å™¨åœ°å€ï¼Œç«¯å£ï¼ŒåŠ å¯†æ–¹å¼ï¼ŒUUIDï¼Œä¼ è¾“æ–¹å¼:(tcp/ws),pathï¼šwebsocketæ¡æ‰‹headerä¸­çš„pathï¼Œhostï¼šwebsocketæ¡æ‰‹headerä¸­çš„pathï¼Œover-tls:æ˜¯å¦tlsï¼Œtls-nameï¼šè¿œç«¯wæœåŠ¡å™¨åŸŸåï¼Œskip-cert-verifyï¼šæ˜¯å¦è·³è¿‡è¯ä¹¦æ ¡éªŒï¼ˆé»˜è®¤å¦ï¼‰
#5 = vmess, 1.2.3.4, 10086, aes-128-gcm,â€uuidâ€œ,transport:ws,path:/,host:icloud.com,over-tls:true,tls-name:youtTlsServerName.com,skip-cert-verify:false

[Proxy Group]
# ç­–ç•¥ç»„

èŠ±å¼€èŠ±è°¢ = load-balance,ğŸŒ¸èŠ±å¼€èŠ±è½,url = http://www.qualcomm.cn/generate_204,interval = 600,max-timeout = 3000,algorithm = pcc

# ç™½åå•æ¨¡å¼ PROXYï¼Œé»‘åå•æ¨¡å¼ DIRECT
# è‹¹æœæœåŠ¡ç”¨äºè§„åˆ™ä¹‹å¤–çš„æ¼ç½‘ä¹‹é±¼
è‹¹æœæœåŠ¡ = select,ç›´è¿,æ‰‹åŠ¨é€‰æ‹©

# èŠ‚ç‚¹é€‰é¡¹
èŠ‚ç‚¹é€‰æ‹© = select,èŠ±å¼€èŠ±è°¢,æ‰‹åŠ¨é€‰æ‹©

# url-testæ¨¡å¼ï¼Œç»™æä¾›çš„urlå‘å‡ºhttp headerè¯·æ±‚ï¼Œæ ¹æ®è¿”å›ç»“æœï¼Œé€‰æ‹©æµ‹é€Ÿæœ€å¿«çš„èŠ‚ç‚¹ï¼Œé»˜è®¤é—´éš”600sï¼Œæµ‹é€Ÿè¶…æ—¶æ—¶é—´5sï¼Œä¸ºäº†é¿å…èµ„æºæµªè´¹ï¼Œå»ºè®®èŠ‚ç‚¹æ•°ä¸è¦è¿‡å¤šï¼Œåªæ”¯æŒå•ä¸ªèŠ‚ç‚¹å’Œè¿œç«¯èŠ‚ç‚¹ï¼Œå…¶ä»–ä¼šè¢«å¿½ç•¥

# selectæ¨¡å¼,æ‰‹åŠ¨é€‰æ‹©æ¨¡å¼
æ‰‹åŠ¨é€‰æ‹© = select,æ–°åŠ å¡

# fallbackæ¨¡å¼ï¼Œå’Œurl-testç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯ä¼šæ ¹æ®é¡ºåºè¿”å›ç¬¬ä¸€ä¸ªå¯ç”¨çš„èŠ‚ç‚¹ï¼Œä¸ºäº†é¿å…èµ„æºæµªè´¹ï¼Œå»ºè®®èŠ‚ç‚¹æ•°ä¸è¦è¿‡å¤šï¼Œåªæ”¯æŒå•ä¸ªèŠ‚ç‚¹å’Œè¿œç«¯èŠ‚ç‚¹ï¼Œå…¶ä»–ä¼šè¢«å¿½ç•¥

Netflix = select,æ–°åŠ å¡,ç›´è¿
Telegarm = select,èŠ‚ç‚¹é€‰æ‹©,ç›´è¿
å›½å¤–å½±è§† = select,èŠ‚ç‚¹é€‰æ‹©,ç›´è¿

# å¹¿å‘Šæ‹¦æˆª
å¹¿å‘Šæ‹¦æˆª = select,æ‹¦æˆª,ç›´è¿

# ç›´æ¥è¿æ¥
ç›´è¿ = select,DIRECT

# æ‹¦æˆª
æ‹¦æˆª = select,REJECT

# SSID
# åˆ«å = ssidï¼Œé»˜è®¤ = ç­–ç•¥ï¼Œ èœ‚çª = ç­–ç•¥ï¼Œ ssidåç§° = ç­–ç•¥
#SSID = ssid, default = PROXY, cellular = DIRECT, â€DivineEngineâ€œ = PROXY

[Rule]
# æœ¬åœ°è§„åˆ™
# Type:DOMAIN-SUFFIX,DOMAIN,DOMAIN-KEYWORD,USER-AGENT,URL-REGEX,IP-CIDR
# Strategy:DIRECT,Proxy,REJECT
# Options:force-remote-dns(Default:false),no-resolve

#ç»•è¿‡ä¼ä¸šè¯ä¹¦è¿‡æœŸ
DOMAIN,ocsp.apple.com,æ‹¦æˆª

#å±è”½ç³»ç»Ÿæ›´æ–°
DOMAIN,mesu.apple.com,æ‹¦æˆª
DOMAIN,gdmf.apple.com,æ‹¦æˆª


# GeoIP China
GEOIP,CN,ç›´è¿
FINAL,è‹¹æœæœåŠ¡

[Remote Rule]
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Advertising/Advertising.list, policy=REJECT, tag=å»å¹¿å‘Š, enabled=true
# è®¢é˜…è§„åˆ™

https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Unbreak.list, tag=åç»­ä¿®æ­£, enabled=true

https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/China.list, policy=ç›´è¿, tag=å›½å†…ç½‘ç«™, enabled=true

https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Telegram/Telegram.list, policy=Telegarm, tag=Telegarm, enabled=true

https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list, policy=èŠ‚ç‚¹é€‰æ‹©, tag=å›½å¤–ç½‘ç«™, enabled=true

https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list, policy=å¹¿å‘Šæ‹¦æˆª, tag=å¹¿å‘Šæ‹¦æˆª, enabled=true

https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Hijacking.list, policy=å¹¿å‘Šæ‹¦æˆª, tag=è¿è¥åŠ«æŒ, enabled=true

https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list, policy=å¹¿å‘Šæ‹¦æˆª, tag=éšç§ä¿æŠ¤, enabled=true

https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/Netflix.list, policy=Netflix, tag=Netflix, enabled=true

https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Streaming.list, policy=å›½å¤–å½±è§†, tag=å›½å¤–å½±è§†, enabled=true

https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/TikTok.list, policy=TikTok, tag=TikTok, enabled=true



[URL Rewrite]
# æœ¬åœ°é‡å†™
enable = true

[Remote Rewrite]
# è®¢é˜…é‡å†™ 

[Script]
# æœ¬åœ°è„šæœ¬
enable = false

[Remote Script]
https://raw.githubusercontent.com/fg11111/huafeihua/master/Loon/Task.conf, tag=ç­¾åˆ°, enabled=false
https://raw.githubusercontent.com/fg11111/huafeihua/master/Loon/Script.conf, tag=è„šæœ¬, enabled=false
https://raw.githubusercontent.com/fg11111/huafeihua/master/Loon/Cookie.conf, tag=Cookie, enabled=false
# è¿œç¨‹è„šæœ¬

[Plugin]
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/Loon/Advertising/Advertising.plugin, proxy=REJECT, tag=å»å¹¿å‘Š, enabled=true
https://raw.githubusercontent.com/fg11111/huafeihua/master/Loon/Plugin/Cookie.plugin, tag=Cookie, enabled=false
https://raw.githubusercontent.com/fg11111/huafeihua/master/Loon/Plugin/Task.plugin, tag=ç­¾åˆ°, enabled=false
https://raw.githubusercontent.com/fg11111/huafeihua/master/Loon/Plugin/taobao.plugin, tag=æ·˜å®æ¯”ä»·, enabled=true
https://raw.githubusercontent.com/fg11111/huafeihua/master/Loon/Plugin/Netflix.plugin, tag=Netflix, enabled=true
https://raw.githubusercontent.com/fg11111/huafeihua/master/Loon/Plugin/weixinad.plugin, tag=å¾®ä¿¡å»å¹¿å‘Š, enabled=true
https://raw.githubusercontent.com/fg11111/huafeihua/master/Loon/Plugin/aimeiju.piugin, tag=çˆ±ç¾å‰§, enabled=true
https://raw.githubusercontent.com/fg11111/huafeihua/master/Loon/Plugin/aoligei.plugin, tag=å¥¥åˆ©ç»™, enabled=true
https://raw.githubusercontent.com/fg11111/huafeihua/master/Loon/Plugin/douyin.plugin, tag=æŠ–éŸ³, enabled=true
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Plugin/TF-Download.plugin, tag=TF-Download, enabled=true



[MITM]
ca-p12 = 
ca-passphrase = 
enable = true
hostname = *.googlevideo.com.bak
skip-server-cert-verify = true
